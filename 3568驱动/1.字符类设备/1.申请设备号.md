## 两种方式
1.自己指定
2.自动分配

头文件 kdev_t.h
```c
static int major =0;
static int minor =0;
dev_t dev_id;
// 这里可以把这两个作为参数传入
moudle_param(major ,int ,444 );
static int dec_init()
{
	int ret;
	// 先自己把dev_id拼好
	dev_id=MKDEV(major ,minor);
	// 设备号 申请数量 名字
	if(major){
		ret= register_chrdev_region(dev_id,1,"my_dev");
		if(ret<0){
		}else
		...
	}else{
	// 这里传入的是地址，因为会自动分配，然后写入dev_id
	// 从0开始，申请1个
	allo_chrdev_region(&dev_id,0,1,"name");
	// 获取申请的设备号
	major = MAJOR(dev_id);
	minor = MINOR(dev_id);
	}
}	
static void dec_exit()
{
	// 释放的设备号 数量
	unregister_chrdev(dev_id,1)
}
```