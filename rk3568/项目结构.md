## 基于QT6.7 +cmake 构建
## 运行平台： RK3568
# 后端
## 架构分层
- 硬件调用层`Backend`
- 业务逻辑层`Treatservice`
- UI交互层`Treatmanager`
## 硬件调用层
负责直接与下位机交互，或者直接操作linux文件
里面设置一个纯虚基类，和一个`RK3568backend`子类
这个纯虚基类作为接口，如果后续需要进行其他平台的移植，只需要新建一个子类，业务逻辑层和UI交互层的代码都不用变，只修改main.cpp。同时，如果不设置这个子类，在windows上无法进行调试。
## 业务逻辑层
负责连接UI交互层和硬件调用层，目前只需要进行数据与状态的检查，后续还需要包含ADC数据处理，PID算法等
## UI交互层
负责与UI交互
- 把后端->前端的信息换成QString，QVector等，QT才能读懂
- 接收前端的命令，比如按钮按下，直接调用业务逻辑层

# 前端
### 采用qml
整个前端的文件都在resources文件夹里
resources里分为`assets`和`qml`
- `assets`里面存放图片，字体等资源
- `qml`分为`pages` `components`和`main.qml`
pages里面是各个页面的qml文件，components是用到的各种组件的qml
# 整体
![[Pasted image 20251216100724.png]]
- build里存放qt构建文件
- include里存头文件
- src是源文件
- resources是qml和图片等资源

在ui中拖动滑块的时候，UI交互层里面的各种Q_PROPERTY不断改变，当点击开始刺激的时候，把这些Q_PROPERTY打包成结构体发给业务逻辑层，业务逻辑层做简单的数据检查，然后再把结构体发给硬件交互层，硬件交互层通过SPI发送

